{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="courier-dashboard">
    <div class="dashboard-header">
        <h1>Courier Dashboard</h1>
        <div class="courier-status">
            <span id="status-indicator" class="status-online"></span>
            <span id="status-text">Online</span>
        </div>
    </div>

    <div class="dashboard-stats">
        <div class="stat-card">
            <div class="stat-value" id="earnings-today">$0.00</div>
            <div class="stat-label">Today's Earnings</div>
        </div>
        <div class="stat-card">
            <div class="stat-value" id="deliveries-today">0</div>
            <div class="stat-label">Today's Deliveries</div>
        </div>
        <div class="stat-card">
            <div class="stat-value" id="active-delivery">None</div>
            <div class="stat-label">Active Delivery</div>
        </div>
    </div>

    <div class="dashboard-tabs">
        <button class="tab-button active" data-tab="available">Available Orders</button>
        <button class="tab-button" data-tab="active">Active Order</button>
        <button class="tab-button" data-tab="history">Order History</button>
    </div>

    <div class="tab-content active" id="available-tab">
        <h2>Available Orders Nearby</h2>
        <div class="orders-list" id="available-orders">
            <!-- Available orders will be populated here by JavaScript -->
            <div class="empty-state">Searching for nearby orders...</div>
        </div>
    </div>

    <div class="tab-content" id="active-tab">
        <h2>Current Active Order</h2>
        <div id="active-order-details">
            <!-- Active order details will be populated here by JavaScript -->
            <div class="empty-state">No active order</div>
        </div>
        
        <div class="order-actions">
            <button id="pickup-btn" class="action-button pickup" disabled>Mark as Picked Up</button>
            <button id="delivered-btn" class="action-button delivered" disabled>Mark as Delivered</button>
        </div>
        
        <div class="navigation-map">
            <h3>Navigation</h3>
            <div id="map-container">
                <div class="map-placeholder">
                    <p>Map view would be displayed here</p>
                </div>
            </div>
        </div>
    </div>

    <div class="tab-content" id="history-tab">
        <h2>Delivery History</h2>
        <div class="orders-list" id="history-orders">
            <!-- Order history will be populated here by JavaScript -->
            <div class="empty-state">Loading delivery history...</div>
        </div>
    </div>
</div>

<link rel="stylesheet" href="{% static 'css/courier_home.css' %}">
<script src="{% static 'js/courier_home.js' %}"></script>

{% endblock %}